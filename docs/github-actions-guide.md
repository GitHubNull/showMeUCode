# GitHub Actions è‡ªåŠ¨å‘å¸ƒæŒ‡å—

## ğŸ“– æ¦‚è¿°

æœ¬é¡¹ç›®é…ç½®äº†å®Œæ•´çš„GitHub Actionsè‡ªåŠ¨å‘å¸ƒæµç¨‹ï¼Œå½“æ‚¨æ¨é€æ–°çš„ç‰ˆæœ¬tagæ—¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

1. **ç¼–è¯‘æ„å»º**ï¼šè‡ªåŠ¨ç¼–è¯‘Javaä»£ç å¹¶æ‰“åŒ…JARæ–‡ä»¶
2. **ç‰ˆæœ¬éªŒè¯**ï¼šéªŒè¯tagæ ¼å¼å’Œç‰ˆæœ¬å·
3. **ç”ŸæˆRelease**ï¼šåˆ›å»ºGitHub Releaseå¹¶ä¸Šä¼ æ„å»ºäº§ç‰©
4. **å‘å¸ƒè¯´æ˜**ï¼šè‡ªåŠ¨ç”ŸæˆåŒ…å«å˜æ›´æ—¥å¿—çš„å‘å¸ƒè¯´æ˜

## ğŸš€ å¿«é€Ÿå‘å¸ƒ

### æ–¹å¼ä¸€ï¼šä½¿ç”¨å‘å¸ƒè„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# ç»™è„šæœ¬æ‰§è¡Œæƒé™ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
chmod +x scripts/release.sh

# å‘å¸ƒæ–°ç‰ˆæœ¬
./scripts/release.sh 1.0.1
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨åˆ›å»ºtag

```bash
# æ›´æ–°ç‰ˆæœ¬å·ï¼ˆå¯é€‰ï¼‰
mvn versions:set -DnewVersion=1.0.1 -DgenerateBackupPoms=false

# æäº¤ç‰ˆæœ¬æ›´æ”¹
git add pom.xml
git commit -m "chore: å‘å¸ƒç‰ˆæœ¬ 1.0.1"

# åˆ›å»ºå¹¶æ¨é€tag
git tag -a v1.0.1 -m "Release version 1.0.1"
git push origin v1.0.1
```

## ğŸ“‹ å‘å¸ƒæµç¨‹è¯¦è§£

### 1. è§¦å‘æ¡ä»¶

è‡ªåŠ¨å‘å¸ƒä¼šåœ¨ä»¥ä¸‹æƒ…å†µè§¦å‘ï¼š
- æ¨é€æ ¼å¼ä¸º `v*` çš„tagï¼ˆå¦‚ï¼šv1.0.0ã€v2.1.3ï¼‰
- tagå¿…é¡»ç¬¦åˆè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼ˆx.y.zï¼‰

### 2. æ„å»ºç¯å¢ƒ

- **æ“ä½œç³»ç»Ÿ**ï¼šUbuntu Latest
- **Javaç‰ˆæœ¬**ï¼š17 (Temurin)
- **æ„å»ºå·¥å…·**ï¼šMaven
- **æƒé™**ï¼šcontents: writeï¼ˆç”¨äºåˆ›å»ºreleaseï¼‰

### 3. æ‰§è¡Œæ­¥éª¤

#### æ­¥éª¤1ï¼šæ£€å‡ºä»£ç 
```yaml
- name: æ£€å‡ºä»£ç 
  uses: actions/checkout@v4
  with:
    fetch-depth: 0  # è·å–å®Œæ•´å†å²è®°å½•
```

#### æ­¥éª¤2ï¼šè®¾ç½®Javaç¯å¢ƒ
```yaml
- name: è®¾ç½®Javaç¯å¢ƒ
  uses: actions/setup-java@v4
  with:
    java-version: '17'
    distribution: 'temurin'
```

#### æ­¥éª¤3ï¼šç¼“å­˜Mavenä¾èµ–
```yaml
- name: ç¼“å­˜Mavenä¾èµ–
  uses: actions/cache@v3
  with:
    path: ~/.m2
    key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
```

#### æ­¥éª¤4ï¼šç‰ˆæœ¬å¤„ç†
- ä»tagä¸­æå–ç‰ˆæœ¬å·
- éªŒè¯ç‰ˆæœ¬å·æ ¼å¼
- æ›´æ–°pom.xmlä¸­çš„ç‰ˆæœ¬å·

#### æ­¥éª¤5ï¼šç¼–è¯‘æ„å»º
```bash
mvn clean compile
mvn package -DskipTests
```

#### æ­¥éª¤6ï¼šç”Ÿæˆå˜æ›´æ—¥å¿—
- è·å–ä¸Šä¸€ä¸ªtagåˆ°å½“å‰tagçš„æäº¤è®°å½•
- ç”Ÿæˆç»“æ„åŒ–çš„å‘å¸ƒè¯´æ˜
- åŒ…å«ä¸‹è½½é“¾æ¥å’Œä½¿ç”¨è¯´æ˜

#### æ­¥éª¤7ï¼šåˆ›å»ºGitHub Release
- åˆ›å»ºReleaseé¡µé¢
- ä¸Šä¼ JARæ–‡ä»¶ä½œä¸ºAsset
- ä¸Šä¼ é¡¹ç›®æ–‡æ¡£

## ğŸ¯ ç‰ˆæœ¬å·è§„èŒƒ

### è¯­ä¹‰åŒ–ç‰ˆæœ¬

éµå¾ª [Semantic Versioning](https://semver.org/) è§„èŒƒï¼š

```
vä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·
```

**ç¤ºä¾‹**ï¼š
- `v1.0.0` - é¦–ä¸ªæ­£å¼ç‰ˆæœ¬
- `v1.0.1` - ä¿®å¤bugçš„ç‰ˆæœ¬
- `v1.1.0` - æ–°å¢åŠŸèƒ½çš„ç‰ˆæœ¬
- `v2.0.0` - é‡å¤§æ›´æ–°çš„ç‰ˆæœ¬

### ç‰ˆæœ¬å·å«ä¹‰

| ç‰ˆæœ¬ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|----------|------|------|
| **ä¸»ç‰ˆæœ¬å·** | ä¸å…¼å®¹çš„APIä¿®æ”¹ | 1.0.0 â†’ 2.0.0 |
| **æ¬¡ç‰ˆæœ¬å·** | å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢ | 1.0.0 â†’ 1.1.0 |
| **ä¿®è®¢å·** | å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£ | 1.0.0 â†’ 1.0.1 |

## ğŸ“¦ æ„å»ºäº§ç‰©

æ¯æ¬¡å‘å¸ƒä¼šç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

### JARæ–‡ä»¶
- **æ–‡ä»¶å**ï¼š`showMeUCode-{ç‰ˆæœ¬å·}.jar`
- **ä½ç½®**ï¼šReleaseé¡µé¢çš„Assetséƒ¨åˆ†
- **ç”¨é€”**ï¼šBurp Suiteæ’ä»¶æ–‡ä»¶ï¼Œå¯ç›´æ¥å®‰è£…ä½¿ç”¨

### æ–‡æ¡£æ–‡ä»¶
- **README.md**ï¼šé¡¹ç›®è¯´æ˜æ–‡æ¡£
- **é“¾æ¥åˆ°è¯¦ç»†æ–‡æ¡£**ï¼šç”¨æˆ·æŒ‡å—ã€APIæ–‡æ¡£ç­‰

## ğŸ” å‘å¸ƒçŠ¶æ€ç›‘æ§

### æŸ¥çœ‹æ„å»ºçŠ¶æ€

1. **GitHub Actionsé¡µé¢**
   ```
   https://github.com/GitHubNull/showMeUCode/actions
   ```

2. **å…·ä½“å·¥ä½œæµç¨‹**
   - ç‚¹å‡»å¯¹åº”çš„å·¥ä½œæµç¨‹è¿è¡Œå®ä¾‹
   - æŸ¥çœ‹å„ä¸ªæ­¥éª¤çš„æ‰§è¡ŒçŠ¶æ€å’Œæ—¥å¿—

### çŠ¶æ€æ ‡è¯†

| çŠ¶æ€ | å›¾æ ‡ | è¯´æ˜ |
|------|------|------|
| è¿è¡Œä¸­ | ğŸŸ¡ | æ­£åœ¨æ‰§è¡Œæ„å»ºæµç¨‹ |
| æˆåŠŸ | âœ… | å‘å¸ƒæˆåŠŸå®Œæˆ |
| å¤±è´¥ | âŒ | å‘å¸ƒè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ |

## ğŸ› å¸¸è§é—®é¢˜

### Q1: æ¨é€tagåæ²¡æœ‰è§¦å‘è‡ªåŠ¨å‘å¸ƒï¼Ÿ

**å¯èƒ½åŸå› **ï¼š
1. tagæ ¼å¼ä¸æ­£ç¡®ï¼ˆå¿…é¡»ä»¥vå¼€å¤´ï¼‰
2. ç‰ˆæœ¬å·ä¸ç¬¦åˆx.y.zæ ¼å¼
3. GitHub Actionsè¢«ç¦ç”¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥tagæ ¼å¼
git tag -l

# é‡æ–°åˆ›å»ºæ­£ç¡®æ ¼å¼çš„tag
git tag -d v1.0.0  # åˆ é™¤é”™è¯¯çš„tag
git tag -a v1.0.0 -m "Release v1.0.0"
git push origin v1.0.0
```

### Q2: æ„å»ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**æ’æŸ¥æ­¥éª¤**ï¼š
1. æŸ¥çœ‹GitHub Actionsæ—¥å¿—
2. æ£€æŸ¥ç¼–è¯‘é”™è¯¯
3. éªŒè¯pom.xmlé…ç½®
4. æœ¬åœ°æµ‹è¯•æ„å»ºæµç¨‹

**å¸¸è§é”™è¯¯**ï¼š
```bash
# æœ¬åœ°æµ‹è¯•æ„å»º
mvn clean compile
mvn package -DskipTests

# æ£€æŸ¥Javaç‰ˆæœ¬
java -version
mvn -version
```

### Q3: JARæ–‡ä»¶æ„å»ºæˆåŠŸä½†æ— æ³•ä½¿ç”¨ï¼Ÿ

**æ£€æŸ¥é¡¹ç›®**ï¼š
1. JARæ–‡ä»¶å®Œæ•´æ€§
2. Manifestæ–‡ä»¶é…ç½®
3. ä¾èµ–åŒ…æ˜¯å¦æ­£ç¡®åŒ…å«

### Q4: Releaseé¡µé¢æ²¡æœ‰å‡ºç°ï¼Ÿ

**å¯èƒ½åŸå› **ï¼š
1. GitHub Tokenæƒé™ä¸è¶³
2. ä»“åº“æƒé™è®¾ç½®é—®é¢˜
3. Actionsæ‰§è¡Œå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥æƒé™è®¾ç½®
# ä»“åº“è®¾ç½® â†’ Actions â†’ General â†’ Workflow permissions
# ç¡®ä¿é€‰æ‹©äº† "Read and write permissions"
```

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹è§¦å‘æ¡ä»¶

ç¼–è¾‘ `.github/workflows/release.yml`ï¼š

```yaml
on:
  push:
    tags:
      - 'v*'        # æ‰€æœ‰vå¼€å¤´çš„tag
      - 'release/*' # release/å¼€å¤´çš„tag
```

### æ·»åŠ æµ‹è¯•æ­¥éª¤

åœ¨æ„å»ºæ­¥éª¤ä¸­æ·»åŠ ï¼š

```yaml
- name: è¿è¡Œæµ‹è¯•
  run: mvn test
```

### è‡ªå®šä¹‰Releaseè¯´æ˜

ä¿®æ”¹å˜æ›´æ—¥å¿—ç”Ÿæˆéƒ¨åˆ†ï¼š

```bash
# ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿
cat custom-release-template.md > changelog_temp.md
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [GitHub Actions å®˜æ–¹æ–‡æ¡£](https://docs.github.com/en/actions)
- [Semantic Versioning è§„èŒƒ](https://semver.org/)
- [Maven ç‰ˆæœ¬ç®¡ç†](https://maven.apache.org/maven-release/maven-release-plugin/)
- [Burp Suite æ‰©å±•å¼€å‘](https://portswigger.net/burp/documentation/desktop/extensions)

## ğŸ’¡ æœ€ä½³å®è·µ

### å‘å¸ƒå‰æ£€æŸ¥æ¸…å•

- [ ] ä»£ç å·²æäº¤å¹¶æ¨é€
- [ ] æœ¬åœ°æ„å»ºæµ‹è¯•é€šè¿‡
- [ ] ç‰ˆæœ¬å·ç¬¦åˆè¯­ä¹‰åŒ–è§„èŒƒ
- [ ] æ›´æ–°ç›¸å…³æ–‡æ¡£
- [ ] æµ‹è¯•JARæ–‡ä»¶åŠŸèƒ½

### å‘å¸ƒåéªŒè¯

- [ ] æ£€æŸ¥GitHub Releaseé¡µé¢
- [ ] ä¸‹è½½å¹¶æµ‹è¯•JARæ–‡ä»¶
- [ ] éªŒè¯å‘å¸ƒè¯´æ˜å†…å®¹
- [ ] æ›´æ–°é¡¹ç›®æ–‡æ¡£ä¸­çš„ç‰ˆæœ¬ä¿¡æ¯

---

ğŸ‰ **è‡ªåŠ¨å‘å¸ƒè®©ç‰ˆæœ¬ç®¡ç†å˜å¾—ç®€å•é«˜æ•ˆï¼** 